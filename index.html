<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MultiGenio - Aprende a tu ritmo</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #a8edea, #fed6e3);
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
    }
    .container {
      background: white;
      max-width: 600px;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h1 {
      color: #4a90e2;
      text-align: center;
      margin-bottom: 25px;
    }
    #quiz-container, #resources-container {
      margin-bottom: 20px;
    }
    #question-text {
      font-weight: 600;
      font-size: 1.2rem;
      margin-bottom: 15px;
    }
    #options-container button {
      display: block;
      width: 100%;
      padding: 12px 20px;
      margin-bottom: 10px;
      border: none;
      background-color: #4a90e2;
      color: white;
      font-weight: 600;
      font-size: 1rem;
      border-radius: 10px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    #options-container button:hover {
      background-color: #357ABD;
    }
    #resources-container h2 {
      color: #333;
      margin-bottom: 15px;
    }
    #resources-container p {
      margin-bottom: 10px;
      font-size: 1rem;
      color: #555;
    }
    #tdah-advice {
      background-color: #fff3cd;
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #ffeeba;
      margin-top: 15px;
      font-weight: 600;
      color: #856404;
    }
    #restart-btn {
      background-color: #e94e77;
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
      transition: background-color 0.3s ease;
      margin-top: 20px;
      width: 100%;
    }
    #restart-btn:hover {
      background-color: #c93a5d;
    }
    /* Chatbot */
    #chat-container {
      margin-top: 30px;
    }
    #chat-input {
      width: 100%;
      padding: 12px 15px;
      font-size: 1rem;
      border-radius: 10px;
      border: 1px solid #ccc;
      resize: vertical;
      margin-bottom: 10px;
      box-sizing: border-box;
    }
    #chat-submit {
      background-color: #4a90e2;
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
      width: 100%;
      transition: background-color 0.3s ease;
    }
    #chat-submit:hover {
      background-color: #357ABD;
    }
    #chat-response {
      margin-top: 15px;
      background-color: #f0f4f8;
      padding: 15px;
      border-radius: 10px;
      font-style: italic;
      color: #333;
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üéì MultiGenio: Tu App de Aprendizaje Inteligente</h1>

    <!-- Cuestionario -->
    <div id="quiz-container">
      <p id="question-text"></p>
      <div id="options-container"></div>
    </div>

    <!-- Recursos adaptados -->
    <div id="resources-container" style="display:none;">
      <h2>Recursos seg√∫n tu estilo: <span id="style-name"></span></h2>
      <p><strong>üìò Lengua:</strong> <span id="lengua-resource"></span></p>
      <p><strong>üî¢ Matem√°ticas:</strong> <span id="mates-resource"></span></p>
      <p><strong>üåç Ingl√©s (A1‚ÄìB1):</strong> <span id="ingles-resource"></span></p>
      <div id="tdah-advice" style="display:none;">
        ‚ö° <strong>Recomendaciones para TDA-H:</strong> Contenidos divididos en bloques cortos, recompensas visuales, est√≠mulos constantes como sonido y color.
      </div>
      <button id="restart-btn">üîÑ Volver a empezar</button>
    </div>

    <!-- Chatbot -->
    <div id="chat-container">
      <textarea id="chat-input" rows="3" placeholder="¬øQu√© quieres saber sobre una materia?"></textarea>
      <button id="chat-submit">Preguntar</button>
      <div id="chat-response"></div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const questions = [
        {
          id: "q1",
          text: "¬øQu√© prefieres al estudiar?",
          options: ["Ver im√°genes o videos", "Escuchar explicaciones", "Moverte o hacer cosas", "Leer y escribir"],
        },
        {
          id: "q2",
          text: "¬øTe cuesta mantener la atenci√≥n mucho tiempo?",
          options: ["S√≠, con frecuencia", "A veces", "No mucho"],
        },
      ];

      let step = 0;
      const answers = {};
      let style = null;
      let hasTDAH = false;

      const quizContainer = document.getElementById('quiz-container');
      const questionText = document.getElementById('question-text');
      const optionsContainer = document.getElementById('options-container');
      const resourcesContainer = document.getElementById('resources-container');
      const styleNameSpan = document.getElementById('style-name');
      const lenguaResource = document.getElementById('lengua-resource');
      const matesResource = document.getElementById('mates-resource');
      const inglesResource = document.getElementById('ingles-resource');
      const tdahAdvice = document.getElementById('tdah-advice');
      const restartBtn = document.getElementById('restart-btn');

      const chatInput = document.getElementById('chat-input');
      const chatSubmit = document.getElementById('chat-submit');
      const chatResponse = document.getElementById('chat-response');

      function detectLearningStyle(ans) {
        if(ans.q1 === "Ver im√°genes o videos") return "Visual";
        if(ans.q1 === "Escuchar explicaciones") return "Auditivo";
        if(ans.q1 === "Moverte o hacer cosas") return "Kinest√©sico";
        if(ans.q1 === "Leer y escribir") return "Escrito";
        return "Mixto";
      }

      function renderQuestion() {
        questionText.textContent = questions[step].text;
        optionsContainer.innerHTML = "";
        questions[step].options.forEach(opt => {
          const btn = document.createElement('button');
          btn.classList.add('btn-option');
          btn.textContent = opt;
          btn.onclick = () => handleAnswer(questions[step].id, opt);
          optionsContainer.appendChild(btn);
        });
      }

      function handleAnswer(qId, answer) {
        answers[qId] = answer;
        if(qId === "q2" && answer === "S√≠, con frecuencia") hasTDAH = true;

        step++;
        if(step < questions.length) {
          renderQuestion();
        } else {
          style = detectLearningStyle(answers);
          showResources();
        }
      }

      function showResources() {
        quizContainer.style.display = "none";
        resourcesContainer.style.display = "block";
        styleNameSpan.textContent = style;

        const lenguaMap = {
          Visual: "Mapas conceptuales de sintaxis, videos explicativos de morfolog√≠a, infograf√≠as de ortograf√≠a.",
          Auditivo: "Audios sobre tipos de palabras, reglas gramaticales narradas.",
          Escrito: "Ejercicios escritos, res√∫menes, reglas para copiar y memorizar.",
          Kinest√©sico: "Juegos interactivos para clasificar palabras y construir oraciones.",
          Mixto: "Una combinaci√≥n de recursos visuales, auditivos y escritos."
        };
        const matesMap = {
          Visual: "Esquemas de operaciones, videos de problemas visuales.",
          Auditivo: "Explicaciones habladas de resoluci√≥n de problemas.",
          Escrito: "Listas de ejercicios resueltos paso a paso.",
          Kinest√©sico: "Juegos para practicar sumas, restas, problemas pr√°cticos.",
          Mixto: "Diversos m√©todos para consolidar habilidades matem√°ticas."
        };
        const inglesMap = {
          Visual: "Flashcards con im√°genes, videos con subt√≠tulos.",
          Auditivo: "Podcasts, di√°logos grabados.",
          Escrito: "Lecturas simples, fichas de gram√°tica.",
          Kinest√©sico: "Juegos de vocabulario, apps con movimiento.",
          Mixto: "Recursos variados para todos los estilos."
        };

        lenguaResource.textContent = lenguaMap[style] || "";
        matesResource.textContent = matesMap[style] || "";
        inglesResource.textContent = inglesMap[style] || "";

        tdahAdvice.style.display = hasTDAH ? "block" : "none";
      }

      restartBtn.addEventListener('click', () => {
        step = 0;
        style = null;
        hasTDAH = false;
        for (const key in answers) delete answers[key];
        resourcesContainer.style.display = "none";
        quizContainer.style.display = "block";
        chatResponse.style.display = "none";
        chatInput.value = "";
        renderQuestion();
      });

      chatSubmit.addEventListener('click', () => {
        const question = chatInput.value.trim();
        if(!question) return alert("Por favor escribe una pregunta.");
        chatResponse.style.display = "block";
        chatResponse.textContent = `ü§ñ (Simulaci√≥n IA) Respuesta a: "${question}"`;
        chatInput.value = "";
      });

      // Iniciar la primera pregunta
      renderQuestion();
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MultiGenio - Aprende a tu ritmo</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background: #f0f4f8;
      color: #333;
    }
    header {
      background: #4b9ce2;
      color: white;
      padding: 30px;
      text-align: center;
    }
    nav {
      background: #337acc;
      display: flex;
      justify-content: center;
      padding: 10px;
    }
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: 600;
    }
    .hero {
      padding: 60px 20px;
      text-align: center;
      background: linear-gradient(to right, #e0f7fa, #ffffff);
    }
    .hero h1 {
      font-size: 2.8em;
      margin-bottom: 10px;
    }
    .hero p {
      font-size: 1.2em;
      color: #555;
      max-width: 600px;
      margin: 0 auto;
    }
    .section {
      padding: 50px 20px;
      max-width: 1100px;
      margin: 0 auto;
    }
    .section h2 {
      text-align: center;
      color: #337acc;
      margin-bottom: 20px;
    }
    .cards {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      padding: 25px;
      width: 300px;
      text-align: center;
      transition: transform 0.3s ease;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .clickable-card {
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    .clickable-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }
    .card-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(75, 156, 226, 0.9);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
      font-weight: 600;
    }
    .clickable-card:hover .card-overlay {
      opacity: 1;
    }
    /* Estilos para las páginas de asignaturas */
    .subject-page {
      display: none;
    }
    .subject-page.active {
      display: block;
    }
    .back-button {
      background: #337acc;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      margin-bottom: 20px;
      font-size: 1em;
      transition: background 0.3s ease;
    }
    .back-button:hover {
      background: #2565a3;
    }
    .topic-list {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .topic-item {
      background: #f8f9fa;
      margin: 10px 0;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #4b9ce2;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .topic-item:hover {
      background: #e9ecef;
      transform: translateX(5px);
    }
    .topic-title {
      font-weight: 600;
      color: #337acc;
      margin-bottom: 5px;
    }
    .topic-description {
      color: #666;
      font-size: 0.9em;
    }
    .level-badge {
      display: inline-block;
      background: #4b9ce2;
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8em;
      margin-left: 10px;
    }
    .card img {
      width: 60px;
      margin-bottom: 15px;
    }
    ul {
      list-style-type: none;
      padding-left: 0;
    }
    ul li {
      margin: 10px 0;
      font-size: 1.1em;
    }
    .contact-form {
      text-align: center;
    }
    .contact-form input,
    .contact-form textarea {
      width: 80%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1em;
    }
    .contact-form button {
      background: #4b9ce2;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      transition: background 0.3s ease;
    }
    .contact-form button:hover {
      background: #337acc;
    }
    footer {
      background: #4b9ce2;
      color: white;
      text-align: center;
      padding: 20px;
      margin-top: 40px;
    }
    /* Cuestionario estilos */
    #quiz-container {
      background: white;
      max-width: 500px;
      margin: 40px auto;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }
    #quiz-container h2 {
      color: #337acc;
      margin-bottom: 20px;
      text-align: center;
    }
    .question {
      margin-bottom: 20px;
      font-weight: 600;
      font-size: 1.1em;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .options button {
      width: 100%;
      padding: 12px;
      background: #4b9ce2;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      transition: background 0.3s ease;
      text-align: left;
    }
    .options button:hover {
      background: #337acc;
    }
    /* Oculto */
    .hidden {
      display: none;
    }
    /* Resultado estilo */
    #result-message {
      font-weight: bold;
      text-align: center;
      margin-bottom: 1.5rem;
      color: #337acc;
      font-size: 1.2em;
    }
    /* Recomendaciones TDAH */
    #tdah-warning {
      margin-top: 2rem;
      padding: 1rem;
      background-color: #FFF3CD;
      border-radius: 8px;
      color: #856404;
      font-weight: 600;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    #study-advice {
      max-width: 700px;
      margin: 0 auto 2rem auto;
      font-weight: 600;
      color: #23527c;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
      text-align: center;
    }

    /* Estilos para Reseñas/Testimonios */
    .testimonials-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .testimonial-card {
      width: 300px; /* Adjust as needed */
      padding: 25px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
      transition: transform 0.3s ease;
    }

    .testimonial-card:hover {
      transform: translateY(-5px);
    }

    .testimonial-card img {
      width: 80px; /* Larger images for testimonials */
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 15px;
      border: 3px solid #4b9ce2;
    }

    .testimonial-card h3 {
      color: #337acc;
      margin-bottom: 10px;
    }

    .testimonial-card p {
      font-size: 0.95em;
      color: #666;
      line-height: 1.6;
    }

    .rating {
      color: gold; /* Or use an icon font for stars */
      font-size: 1.2em;
      margin-top: 15px;
    }

    /* Estilos para la barra de progreso */
    .progress-bar-container {
      width: 100%;
      background-color: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 25px;
      height: 25px;
      position: relative;
    }

    .progress-bar-fill {
      height: 100%;
      background-color: #4CAF50; /* Green color for progress */
      width: 0%; /* Will be updated by JS */
      border-radius: 10px 0 0 10px;
      transition: width 0.5s ease-in-out;
    }

    .progress-text {
      position: absolute;
      width: 100%;
      text-align: center;
      line-height: 25px;
      color: #333;
      font-weight: 600;
      font-size: 0.9em;
    }

    /* Estilos para el contenedor de lección */
    #lesson-content-display {
        background: white;
        max-width: 800px;
        margin: 40px auto;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        min-height: 400px; /* Para que no se vea vacío */
    }

    #lesson-content-display h2 {
        text-align: center;
        color: #337acc;
        margin-bottom: 20px;
    }

    #lesson-material video,
    #lesson-material audio,
    #lesson-material img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 15px auto;
        border-radius: 8px;
    }

    #lesson-material .interactive-game-placeholder {
        background-color: #e0f7fa;
        border: 2px dashed #4b9ce2;
        padding: 50px;
        text-align: center;
        font-style: italic;
        color: #555;
        border-radius: 8px;
    }
  </style>
</head>
<body>

  <div id="quiz-container">
    <h2>Cuestionario de estilo de aprendizaje</h2>
    <div id="question-text" class="question"></div>
    <div id="options" class="options"></div>
  </div>

  <div id="main-content" class="hidden">
    <header>
      <h1>MultiGenio</h1>
      <p>Aprende a tu ritmo. Brilla con tu estilo.</p>
    </header>

    <nav>
      <a href="#que-es">¿Qué es?</a>
      <a href="#materias">Materias</a>
      <a href="#beneficios">Beneficios</a>
      <a href="#testimonios">Testimonios</a>
      <a href="#contacto">Contacto</a>
    </nav>

    <section class="hero">
      <h1>Tu tutor virtual para Matemáticas, Inglés y Lengua</h1>
      <p>Diseñado especialmente para estudiantes con TDA o dificultades de atención. Paciencia, claridad y diversión en un solo lugar.</p>
    </section>

    <div id="result-message"></div>
    <div id="study-advice"></div>
    <div id="tdah-warning" class="hidden">
      ⚠️ Si presentas indicios de TDAH, MultiGenio te ofrecerá recursos y estrategias especiales para ayudarte a mantener la concentración y aprovechar tu estilo de aprendizaje.
    </div>

    <section class="section" id="que-es">
      <h2>¿Qué es MultiGenio?</h2>
      <img src="https://img.icons8.com/clouds/100/000000/online-support.png" alt="Estudio interactivo" />
      <p>
        <strong>MultiGenio</strong> es una plataforma educativa innovadora que revoluciona el aprendizaje, especialmente diseñada para estudiantes con **TDAH**, dificultades de atención o aquellos que buscan un método de estudio verdaderamente personalizado. A través de la integración de **Inteligencia Artificial Avanzada**, MultiGenio no solo se adapta al ritmo del alumno, sino que moldea activamente la experiencia educativa para maximizar la absorción del conocimiento y el mantenimiento del interés.
      </p>

      <h3>🧠 La Inteligencia Artificial en Acción: Un Enfoque Adaptativo</h3>
      <img src="https://img.icons8.com/color/96/artificial-intelligence.png" alt="Inteligencia Artificial" />
      <p>
        Nuestra IA propietaria va más allá de un simple algoritmo. Analiza patrones de respuesta en el cuestionario inicial, el progreso en los juegos interactivos, el tiempo dedicado a cada tema y las preferencias de material (visual, auditivo, etc.). Con estos datos, el sistema ajusta dinámicamente la dificultad de los ejercicios, prioriza ciertos tipos de contenido y sugiere rutas de aprendizaje alternativas. Por ejemplo, si un estudiante visual tiene dificultades con un concepto, la IA podría recomendar un video explicativo animado o un mapa mental interactivo antes de ofrecer otro tipo de ejercicio. Para alumnos con TDAH, la IA puede fragmentar lecciones extensas en módulos más cortos, incorporar micro-descansos activos o activar alertas visuales/auditivas sutiles para refocus.
      </p>
      <p>
        El objetivo es crear un "tutor virtual" que comprende las fortalezas y desafíos individuales, proporcionando una experiencia educativa que se siente hecha a la medida, minimizando las distracciones y potenciando la concentración.
      </p>

      <h2>📋 Cuestionario Inicial: Tu Huella de Aprendizaje</h2>
      <img src="https://img.icons8.com/color/96/questions.png" alt="Cuestionario" />
      <p>
        Antes de sumergirte en el aprendizaje, MultiGenio te invita a un **cuestionario interactivo y estratégico de 5 preguntas**. Este no es un simple test; es una herramienta clave para nuestra IA. Las preguntas están cuidadosamente diseñadas para identificar tu estilo de aprendizaje predominante entre:
      </p>
      <ul>
        <li>👁️ <strong>Visual:</strong> Aprendes mejor viendo imágenes, gráficos, diagramas y videos.</li>
        <li>👂 <strong>Auditivo:</strong> Retienes información escuchando explicaciones, debates o audios.</li>
        <li>✍️ <strong>Lectura/Escritura:</strong> Tu fuerza está en leer textos, tomar notas y escribir resúmenes.</li>
        <li>🏃 <strong>Kinestésico:</strong> Necesitas "hacer" para aprender; prefieres actividades prácticas y movimiento.</li>
      </ul>
      <p>
        Además, una de las preguntas está formulada para detectar indicios que podrían ser compatibles con TDAH. Si se identifican estas señales, la plataforma activará un conjunto de estrategias pedagógicas y recursos especiales, como temporizadores de foco, desafíos de atención y formatos de contenido adaptados, para asegurar una experiencia de aprendizaje óptima y libre de frustraciones. Este perfil inicial es la base sobre la cual la IA personaliza cada aspecto de tu trayectoria en MultiGenio.
      </p>
    </section>
   
    <section class="section" id="materias">
      <h2>Materias que puedes aprender</h2>
      <div class="cards">
        <div class="card clickable-card" onclick="showSubject('matematicas')">
          <img src="https://img.icons8.com/color/96/calculator.png" alt="Matemáticas" />
          <h3>Matemáticas</h3>
          <p>Desde sumas y divisiones hasta álgebra de 3º de ESO. Todo con juegos mentales, visuales y lógica adaptada a ti.</p>
          <div class="card-overlay">
            <span>¡Haz clic para empezar!</span>
          </div>
        </div>
        <div class="card clickable-card" onclick="showSubject('lengua')">
          <img src="https://img.icons8.com/color/96/book.png" alt="Lengua" />
          <h3>Lengua</h3>
          <p>Domina la morfología, sintaxis y reglas ortográficas con ejemplos creativos y prácticas fáciles de recordar.</p>
          <div class="card-overlay">
            <span>¡Haz clic para empezar!</span>
          </div>
        </div>
        <div class="card clickable-card" onclick="showSubject('ingles')">
          <img src="https://img.icons8.com/color/96/usa.png" alt="Inglés" />
          <h3>Inglés</h3>
          <p>Aprende desde A1 hasta B1: vocabulario, gramática, listening y speaking. Con apoyo visual y audios.</p>
          <div class="card-overlay">
            <span>¡Haz clic para empezar!</span>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="beneficios">
      <h2>¿Por qué elegir MultiGenio?</h2>
      <ul>
        <li>🌟 Explicaciones adaptadas a estudiantes con TDA/TDAH</li>
        <li>📽️ Videos, ejemplos y contenido creativo</li>
        <li>🧠 Aprende a tu propio ritmo, sin presión</li>
        <li>🎓 Ideal para padres, docentes y alumnos</li>
      </ul>
    </section>

    <section class="section" id="testimonios">
      <h2>Lo que dicen nuestros alumnos</h2>
      <div class="cards testimonials-grid">
        <div class="card testimonial-card">
          <img src="https://img.icons8.com/color/96/student-male.png" alt="Estudiante 1" />
          <h3>Laura G.</h3>
          <p>"¡MultiGenio cambió mi forma de ver las matemáticas! Siempre me frustraba, pero con sus explicaciones visuales y los juegos interactivos, ahora entiendo todo mucho mejor. ¡Recomendadísimo!"</p>
          <div class="rating">⭐⭐⭐⭐⭐</div>
        </div>
        <div class="card testimonial-card">
          <img src="https://img.icons8.com/color/96/student-female.png" alt="Estudiante 2" />
          <h3>Pablo R.</h3>
          <p>"Como padre de un niño con TDAH, encontrar MultiGenio ha sido una bendición. La paciencia y el enfoque adaptado de la plataforma son increíbles. Mi hijo está motivado y aprendiendo sin estrés."</p>
          <div class="rating">⭐⭐⭐⭐⭐</div>
        </div>
        <div class="card testimonial-card">
          <img src="https://img.icons8.com/color/96/teacher.png" alt="Estudiante 3" />
          <h3>Sofía M. (Profesora)</h3>
          <p>"He probado muchas herramientas, pero MultiGenio es única por su capacidad de adaptación. La IA es una maravilla para detectar y apoyar a cada alumno según su estilo. La recomiendo a todos mis colegas."</p>
          <div class="rating">⭐⭐⭐⭐⭐</div>
        </div>
      </div>
    </section>

    <section class="section" id="contacto">
      <h2>Contacto</h2>
      <div class="contact-form">
        <p>¿Quieres probar MultiGenio o tienes dudas? Envíanos un mensaje:</p>
        <form>
          <input type="text" placeholder="Tu nombre" required /><br />
          <input type="email" placeholder="Tu correo electrónico" required /><br />
          <textarea placeholder="Tu mensaje..." rows="5" required></textarea><br />
          <button type="submit">Enviar mensaje</button>
        </form>
      </div>
    </section>

    <script>
      window.chatbaseConfig = {
        chatbotId: "frw3UKvg6MK3c9Zw-bZAu"
      };
    </script>
    <script src="https://www.chatbase.co/embed.min.js" defer></script>

    <footer>
      <p>&copy; 2025 MultiGenio. Todos los derechos reservados.</p>
    </footer>
  </div>

  <div id="matematicas-page" class="subject-page">
    <div class="section">
      <button class="back-button" onclick="showMainContent()">← Volver al inicio</button>
      <h1 style="text-align: center; color: #337acc;">📊 Matemáticas</h1>
      <div id="math-personalized-intro"></div>

      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="matematicas-progress-fill" style="width: 0%;"></div>
        <span class="progress-text" id="matematicas-progress-text">0% completado</span>
      </div>
      
      <div class="topic-list">
        <h2>Temario por niveles</h2>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'operaciones-basicas')">
          <div class="topic-title">Operaciones Básicas <span class="level-badge">Primaria</span>
            <span class="progress-indicator" id="progress-matematicas-operaciones-basicas"></span>
          </div>
          <div class="topic-description">Suma, resta, multiplicación y división. Problemas prácticos del día a día.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'fracciones')">
          <div class="topic-title">Fracciones y Decimales <span class="level-badge">6º Primaria</span>
            <span class="progress-indicator" id="progress-matematicas-fracciones"></span>
          </div>
          <div class="topic-description">Conceptos, operaciones y equivalencias. Con ejemplos visuales.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'porcentajes')">
          <div class="topic-title">Porcentajes <span class="level-badge">1º ESO</span>
            <span class="progress-indicator" id="progress-matematicas-porcentajes"></span>
          </div>
          <div class="topic-description">Cálculo de porcentajes, aumentos y descuentos.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'ecuaciones')">
          <div class="topic-title">Ecuaciones de Primer Grado <span class="level-badge">2º ESO</span>
            <span class="progress-indicator" id="progress-matematicas-ecuaciones"></span>
          </div>
          <div class="topic-description">Resolución paso a paso con métodos visuales.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'sistemas')">
          <div class="topic-title">Sistemas de Ecuaciones <span class="level-badge">3º ESO</span>
            <span class="progress-indicator" id="progress-matematicas-sistemas"></span>
          </div>
          <div class="topic-description">Métodos de sustitución, igualación y reducción.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'geometria')">
          <div class="topic-title">Geometría Básica <span class="level-badge">1º-2º ESO</span>
            <span class="progress-indicator" id="progress-matematicas-geometria"></span>
          </div>
          <div class="topic-description">Áreas, perímetros y volúmenes de figuras básicas.</div>
        </div>
      </div>
    </div>
  </div>

  <div id="lengua-page" class="subject-page">
    <div class="section">
      <button class="back-button" onclick="showMainContent()">← Volver al inicio</button>
      <h1 style="text-align: center; color: #337acc;">📚 Lengua Española</h1>
      <div id="lengua-personalized-intro"></div>

      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="lengua-progress-fill" style="width: 0%;"></div>
        <span class="progress-text" id="lengua-progress-text">0% completado</span>
      </div>
      
      <div class="topic-list">
        <h2>Temario por niveles</h2>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'ortografia-basica')">
          <div class="topic-title">Ortografía Básica <span class="level-badge">Primaria</span>
            <span class="progress-indicator" id="progress-lengua-ortografia-basica"></span>
          </div>
          <div class="topic-description">Acentuación, uso de b/v, g/j, h. Con ejercicios prácticos.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'morfologia')">
          <div class="topic-title">Morfología <span class="level-badge">1º ESO</span>
            <span class="progress-indicator" id="progress-lengua-morfologia"></span>
          </div>
          <div class="topic-description">Categorías gramaticales: sustantivos, adjetivos, verbos, etc.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'sintaxis-simple')">
          <div class="topic-title">Sintaxis - Oración Simple <span class="level-badge">2º ESO</span>
            <span class="progress-indicator" id="progress-lengua-sintaxis-simple"></span>
          </div>
          <div class="topic-description">Sujeto, predicado y complementos básicos.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'sintaxis-compuesta')">
          <div class="topic-title">Sintaxis - Oración Compuesta <span class="level-badge">3º ESO</span>
            <span class="progress-indicator" id="progress-lengua-sintaxis-compuesta"></span>
          </div>
          <div class="topic-description">Oraciones coordinadas y subordinadas.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'literatura')">
          <div class="topic-title">Literatura Española <span class="level-badge">2º-3º ESO</span>
            <span class="progress-indicator" id="progress-lengua-literatura"></span>
          </div>
          <div class="topic-description">Géneros literarios, métrica y autores principales.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'expresion-escrita')">
          <div class="topic-title">Expresión Escrita <span class="level-badge">Todos</span>
            <span class="progress-indicator" id="progress-lengua-expresion-escrita"></span>
          </div>
          <div class="topic-description">Técnicas de redacción, tipos de texto y coherencia.</div>
        </div>
      </div>
    </div>
  </div>

  <div id="ingles-page" class="subject-page">
    <div class="section">
      <button class="back-button" onclick="showMainContent()">← Volver al inicio</button>
      <h1 style="text-align: center; color: #337acc;">🇬🇧 English</h1>
      <div id="ingles-personalized-intro"></div>

      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="ingles-progress-fill" style="width: 0%;"></div>
        <span class="progress-text" id="ingles-progress-text">0% completado</span>
      </div>
      
      <div class="topic-list">
        <h2>Temario por niveles</h2>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'basic-vocabulary')">
          <div class="topic-title">Basic Vocabulary <span class="level-badge">A1</span>
            <span class="progress-indicator" id="progress-ingles-basic-vocabulary"></span>
          </div>
          <div class="topic-description">Numbers, colors, family, daily routines. Con apoyo visual.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'present-tenses')">
          <div class="topic-title">Present Simple & Continuous <span class="level-badge">A1-A2</span>
            <span class="progress-indicator" id="progress-ingles-present-tenses"></span>
          </div>
          <div class="topic-description">Tiempos verbales básicos con ejemplos prácticos.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'past-tenses')">
          <div class="topic-title">Past Simple & Past Continuous <span class="level-badge">A2</span>
            <span class="progress-indicator" id="progress-ingles-past-tenses"></span>
          </div>
          <div class="topic-description">Narración en pasado, verbos regulares e irregulares.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'future-tenses')">
          <div class="topic-title">Future Tenses <span class="level-badge">A2-B1</span>
            <span class="progress-indicator" id="progress-ingles-future-tenses"></span>
          </div>
          <div class="topic-description">Will, going to, present continuous for future.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'conditionals')">
          <div class="topic-title">Conditionals <span class="level-badge">B1</span>
            <span class="progress-indicator" id="progress-ingles-conditionals"></span>
          </div>
          <div class="topic-description">First, second and third conditional sentences.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'listening-speaking')">
          <div class="topic-title">Listening & Speaking <span class="level-badge">A1-B1</span>
            <span class="progress-indicator" id="progress-ingles-listening-speaking"></span>
          </div>
          <div class="topic-description">Ejercicios de comprensión auditiva y pronunciación.</div>
        </div>
      </div>
    </div>
  </div>

  <div id="lesson-content-display" class="hidden">
    <button class="back-button" onclick="hideLessonContent()">← Volver al temario</button>
    <h2 id="lesson-title"></h2>
    <div id="lesson-material"></div>
  </div>


  <script>
    const quizContainer = document.getElementById('quiz-container');
    const mainContent = document.getElementById('main-content');
    const questionText = document.getElementById('question-text');
    const optionsDiv = document.getElementById('options');
    const resultMessage = document.getElementById('result-message');
    const tdahWarning = document.getElementById('tdah-warning');
    const studyAdvice = document.getElementById('study-advice');
    const lessonContentDisplay = document.getElementById('lesson-content-display');

    // Preguntas del cuestionario
    const quizQuestions = [
      {
        question: "¿Cómo prefieres aprender?",
        options: [
          { text: "Viendo imágenes, gráficos o videos", value: "visual" },
          { text: "Escuchando explicaciones o audios", value: "auditivo" },
          { text: "Leyendo o escribiendo textos", value: "lectura-escritura" },
          { text: "Haciendo actividades prácticas o manipulativas", value: "kinestesico" }
        ]
      },
      {
        question: "¿Sueles tener dificultades para mantener la atención o concentración?",
        options: [
          { text: "Sí, frecuentemente", value: "tdah" },
          { text: "A veces", value: "a-veces" },
          { text: "No, casi nunca", value: "no" }
        ]
      },
      {
        question: "Cuando estudias, ¿qué te ayuda más a entender y recordar?",
        options: [
          { text: "Ver esquemas o mapas conceptuales", value: "visual" },
          { text: "Escuchar grabaciones o explicaciones en voz alta", value: "auditivo" },
          { text: "Tomar notas o leer textos varias veces", value: "lectura-escritura" },
          { text: "Hacer ejercicios prácticos o moverme mientras estudio", value: "kinestesico" }
        ]
      },
      {
        question: "¿Qué actividad prefieres para aprender algo nuevo?",
        options: [
          { text: "Observar demostraciones visuales", value: "visual" },
          { text: "Participar en discusiones o escuchar explicaciones", value: "auditivo" },
          { text: "Leer libros o escribir resúmenes", value: "lectura-escritura" },
          { text: "Experimentar y practicar directamente", value: "kinestesico" }
        ]
      },
      {
        question: "¿Cómo recuerdas mejor la información?",
        options: [
          { text: "Recordando imágenes y colores", value: "visual" },
          { text: "Recordando sonidos o palabras", value: "auditivo" },
          { text: "Recordando textos o frases escritas", value: "lectura-escritura" },
          { text: "Recordando sensaciones y movimientos", value: "kinestesico" }
        ]
      }
    ];

    let currentQuestionIndex = 0;
    let selectedAnswers = {};
    let userLearningStyle = 'visual'; // Variable global para almacenar el estilo

    // --- Data de Temas para Cálculo de Progreso ---
    const mathTopics = [
      { id: 'operaciones-basicas', text: 'Operaciones Básicas' },
      { id: 'fracciones', text: 'Fracciones y Decimales' },
      { id: 'porcentajes', text: 'Porcentajes' },
      { id: 'ecuaciones', text: 'Ecuaciones de Primer Grado' },
      { id: 'sistemas', text: 'Sistemas de Ecuaciones' },
      { id: 'geometria', text: 'Geometría Básica' }
    ];

    const lenguaTopics = [
      { id: 'ortografia-basica', text: 'Ortografía Básica' },
      { id: 'morfologia', text: 'Morfología' },
      { id: 'sintaxis-simple', text: 'Sintaxis - Oración Simple' },
      { id: 'sintaxis-compuesta', text: 'Sintaxis - Oración Compuesta' },
      { id: 'literatura', text: 'Literatura Española' },
      { id: 'expresion-escrita', text: 'Expresión Escrita' }
    ];

    const inglesTopics = [
      { id: 'basic-vocabulary', text: 'Basic Vocabulary' },
      { id: 'present-tenses', text: 'Present Simple & Continuous' },
      { id: 'past-tenses', text: 'Past Simple & Past Continuous' },
      { id: 'future-tenses', text: 'Future Tenses' },
      { id: 'conditionals', text: 'Conditionals' },
      { id: 'listening-speaking', text: 'Listening & Speaking' }
    ];

    // --- Funciones de Cuestionario ---
    function showQuestion() {
      if (currentQuestionIndex >= quizQuestions.length) {
        finishQuiz();
        return;
      }

      const currentQ = quizQuestions[currentQuestionIndex];
      questionText.textContent = currentQ.question;
      optionsDiv.innerHTML = '';
      
      currentQ.options.forEach((option, index) => {
        const btn = document.createElement('button');
        btn.textContent = option.text;
        btn.onclick = () => {
          selectedAnswers[currentQuestionIndex] = option.value;
          currentQuestionIndex++;
          showQuestion();
        };
        optionsDiv.appendChild(btn);
      });
    }

    function finishQuiz() {
      // Ocultar cuestionario
      quizContainer.classList.add('hidden');
      // Mostrar contenido principal
      mainContent.classList.remove('hidden');

      // Conteo de estilos, excepto la pregunta 1 (TDAH - índice 1)
      const styleCounts = {
        visual: 0,
        auditivo: 0,
        'lectura-escritura': 0,
        kinestesico: 0
      };

      for(let i = 0; i < quizQuestions.length; i++){
        if(i === 1) continue; // Saltar la pregunta de TDAH (índice 1)
        const ans = selectedAnswers[i];
        if(styleCounts.hasOwnProperty(ans)){
          styleCounts[ans]++;
        }
      }

      // Elegir el estilo con mayor puntuación
      let maxStyle = 'visual';
      let maxCount = 0;
      for(const style in styleCounts){
        if(styleCounts[style] > maxCount){
          maxCount = styleCounts[style];
          maxStyle = style;
        }
      }

      // Mostrar recomendaciones según estilo
      const adviceByStyle = {
        visual: "Recomendamos usar esquemas, mapas conceptuales, videos y colores para organizar tus ideas. Aprovecha imágenes y gráficos para estudiar.",
        auditivo: "Aprende mejor con grabaciones, podcasts, explicaciones en voz alta y repitiendo la información oralmente.",
        'lectura-escritura': "Prefiere leer textos, tomar apuntes, escribir resúmenes y usar listas para organizar la información.",
        kinestesico: "Es ideal aprender haciendo, usando actividades prácticas, movimientos o ejercicios mientras estudias."
      };

      // Mostrar mensaje resultado
      const styleNames = {
        visual: "Visual",
        auditivo: "Auditivo", 
        'lectura-escritura': "Lectura/Escritura",
        kinestesico: "Kinestésico"
      };

      resultMessage.textContent = `🎯 Tu estilo de aprendizaje detectado: ${styleNames[maxStyle]}`;
      studyAdvice.textContent = adviceByStyle[maxStyle] || "";
      
      // Guardar el estilo de aprendizaje globalmente
      userLearningStyle = maxStyle;

      // Mostrar advertencia TDAH si aplica
      const tdahAnswer = selectedAnswers[1]; // La pregunta TDAH está en el índice 1
      if(tdahAnswer === 'tdah'){
        tdahWarning.classList.remove('hidden');
      }

      // Cargar y actualizar el progreso al finalizar el cuestionario
      loadProgressAndDisplay();
      updateAllProgressBars();
    }

    // --- Funciones de Progreso (localStorage) ---
    function saveProgress(subject, topicId, status) {
      const progressKey = `progress_${subject}_${topicId}`;
      localStorage.setItem(progressKey, status);
      // Tras guardar, actualizamos los indicadores y las barras de progreso
      loadProgressAndDisplay();
      updateAllProgressBars();
    }

    function loadProgressAndDisplay() {
      // Actualizar indicadores individuales de tema
      [
        ...mathTopics.map(t => ({ subject: 'matematicas', topic: t })),
        ...lenguaTopics.map(t => ({ subject: 'lengua', topic: t })),
        ...inglesTopics.map(t => ({ subject: 'ingles', topic: t }))
      ].forEach(({ subject, topic }) => {
        const progressKey = `progress_${subject}_${topic.id}`;
        const status = localStorage.getItem(progressKey);
        const indicator = document.getElementById(`progress-${subject}-${topic.id}`);
        if (indicator) {
          if (status === 'completed') {
            indicator.innerHTML = '<span style="color: green; font-weight: bold; margin-left: 10px;">✅ Completado</span>';
          } else {
            indicator.innerHTML = ''; // Limpiar si no está completado
          }
        }
      });
    }

    function updateSubjectProgress(subject, topicsArray, progressFillId, progressTextId) {
      let completedCount = 0;
      topicsArray.forEach(topic => {
        const progressKey = `progress_${subject}_${topic.id}`;
        if (localStorage.getItem(progressKey) === 'completed') {
          completedCount++;
        }
      });

      const totalTopics = topicsArray.length;
      const percentage = totalTopics > 0 ? (completedCount / totalTopics) * 100 : 0;

      const progressBarFill = document.getElementById(progressFillId);
      const progressBarText = document.getElementById(progressTextId);

      if (progressBarFill && progressBarText) {
        progressBarFill.style.width = `${percentage}%`;
        progressBarText.textContent = `${Math.round(percentage)}% completado`;
      }
    }

    function updateAllProgressBars() {
      updateSubjectProgress('matematicas', mathTopics, 'matematicas-progress-fill', 'matematicas-progress-text');
      updateSubjectProgress('lengua', lenguaTopics, 'lengua-progress-fill', 'lengua-progress-text');
      updateSubjectProgress('ingles', inglesTopics, 'ingles-progress-fill', 'ingles-progress-text');
    }

    // --- Funciones de Navegación y Contenido ---
    function showSubject(subject) {
      // Ocultar contenido principal y otras páginas de asignatura
      document.getElementById('main-content').style.display = 'none';
      document.querySelectorAll('.subject-page').forEach(page => {
        page.classList.remove('active');
      });
      lessonContentDisplay.classList.add('hidden'); // Asegurarse que la lección esté oculta

      // Mostrar página de la asignatura
      document.getElementById(subject + '-page').classList.add('active');
      
      // Personalizar introducción según el estilo de aprendizaje
      personalizeSubjectIntro(subject);
      // Actualizar barras de progreso al entrar en la asignatura
      updateAllProgressBars();
      loadProgressAndDisplay(); // Asegurar que los checks estén visibles
    }

    function showMainContent() {
      // Ocultar todas las páginas de asignaturas y el contenido de lección
      document.querySelectorAll('.subject-page').forEach(page => {
        page.classList.remove('active');
      });
      lessonContentDisplay.classList.add('hidden'); // Asegurarse que la lección esté oculta
      
      // Mostrar contenido principal
      document.getElementById('main-content').style.display = 'block';
    }

    function personalizeSubjectIntro(subject) {
      const introElement = document.getElementById(subject + '-personalized-intro');
      if (!introElement) return;

      const personalizedIntros = {
        matematicas: {
          visual: "🎨 Como eres una persona con estilo **visual**, hemos preparado esquemas, gráficos y representaciones visuales para cada tema de matemáticas. ¡Verás las matemáticas de una forma completamente nueva!",
          auditivo: "🔊 Perfecto para tu estilo **auditivo**: cada lección incluye explicaciones paso a paso, podcasts matemáticos y ejercicios que puedes resolver 'hablando' contigo mismo.",
          'lectura-escritura': "📝 Ideal para tu estilo de **lectura/escritura**: encontrarás resúmenes detallados, ejercicios escritos y la posibilidad de tomar notas estructuradas en cada tema.",
          kinestesico: "🏃 ¡Matemáticas en movimiento! Hemos diseñado actividades prácticas, manipulativas y ejercicios que puedes resolver moviéndote o usando objetos físicos."
        },
        lengua: {
          visual: "🎨 Tu aprendizaje **visual** te ayudará con mapas mentales, esquemas de sintaxis y representaciones gráficas de las reglas gramaticales.",
          auditivo: "🔊 Perfecto para tu estilo: lecturas en voz alta, ejercicios de dictado, y técnicas de memorización con ritmo y sonidos.",
          'lectura-escritura': "📝 En tu elemento: análisis de textos, ejercicios de escritura creativa y técnicas de estudio basadas en la lectura comprensiva.",
          kinestesico: "🏃 Lengua activa: dramatizaciones, juegos de roles y ejercicios donde puedas moverte mientras aprendes gramática y literatura."
        },
        ingles: {
          visual: "🎨 **Visual English**: flashcards, mind maps, videos y material gráfico para aprender vocabulario y gramática de forma visual.",
          auditivo: "🔊 Perfect for you: **listening exercises**, pronunciation practice, songs and audio materials to improve your English naturally.",
          'lectura-escritura': "📝 **Reading & Writing** focus: textos graduados, ejercicios de escritura y técnicas de estudio basadas en la lectura en inglés.",
          kinestesico: "🏃 **Active English**: role-plays, interactive games y actividades prácticas para aprender inglés moviéndote y experimentando."
        }
      };

      const intro = personalizedIntros[subject] && personalizedIntros[subject][userLearningStyle];
      if (intro) {
        introElement.innerHTML = `<div style="background: #e8f4f8; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 5px solid #4b9ce2;"><strong>Personalizado para ti:</strong><br>${intro}</div>`;
      }
    }

    // --- Contenido de Lecciones Dinámicas (para diferentes tipos de material) ---
    const topicContents = {
      matematicas: {
        'operaciones-basicas': {
          visual: "<p>Mira este **video explicativo** animado sobre sumas y restas:</p><video controls style='width:100%; height:auto;' src='https://www.w3schools.com/html/mov_bbb.mp4' poster='https://via.placeholder.com/320x240?text=Video+Matemáticas'></video><p>Y este **diagrama** para visualizarlo:</p><img src='https://via.placeholder.com/400x200?text=Diagrama+Sumas' alt='Diagrama de sumas'>",
          auditivo: "<p>Escucha la **explicación detallada** de cómo sumar y restar:</p><audio controls src='https://www.w3schools.com/html/horse.mp3'></audio><p>Presta atención a cada paso, ¡puedes repetirlo cuantas veces quieras!</p>",
          'lectura-escritura': "<p>Lee el **resumen completo** sobre las operaciones básicas y luego escribe tus propias notas:</p><p>La **suma** es la operación fundamental de combinar dos o más números para obtener un total. Se representa con el signo más (+). Por ejemplo, 2 + 3 = 5. La **resta** es la operación inversa de la suma, donde se quita una cantidad de otra para encontrar la diferencia. Se representa con el signo menos (-). Por ejemplo, 5 - 2 = 3. La **multiplicación** es la suma repetida de un número, mientras que la **división** es la operación de repartir una cantidad en partes iguales.</p><textarea rows='5' cols='60' placeholder='Toma tus propias notas o crea un resumen aquí...' style='width: 100%;'></textarea>",
          kinestesico: "<p>¡Resuelve problemas interactivos! **Arrastra y suelta** los números en el lugar correcto para completar las sumas:</p><div class='interactive-game-placeholder'>Aquí iría un juego interactivo de arrastrar y soltar números para sumar/restar. (Simulado)</div><button onclick='simulateGameCompletion(\"matematicas\", \"operaciones-basicas\")'>Simular Completar Juego</button>"
        },
        'fracciones': {
          visual: "<p>Aprende fracciones con estas **imágenes y gráficos de tartas**:</p><img src='https://via.placeholder.com/400x200?text=Fracciones+Visual' alt='Fracciones visual'>",
          auditivo: "<p>Escucha la **explicación de fracciones** y sus operaciones:</p><audio controls src='https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3'></audio>",
          'lectura-escritura': "<p>Lee la **teoría de fracciones** y resuelve problemas escritos:</p><p>Una fracción es un número que representa una parte de un todo...</p>",
          kinestesico: "<p>Juega al **rompecabezas de fracciones** para entenderlas mejor:</p><div class='interactive-game-placeholder'>Juego interactivo de construcción de fracciones. (Simulado)</div><button onclick='simulateGameCompletion(\"matematicas\", \"fracciones\")'>Simular Completar Juego</button>"
        },
        // ... puedes seguir añadiendo más temas de matemáticas con sus 4 tipos de contenido
      },
      lengua: {
        'ortografia-basica': {
          visual: "<p>Observa los **mapas mentales** de reglas ortográficas:</p><img src='https://via.placeholder.com/400x200?text=Ortografia+Visual' alt='Mapa mental ortografía'>",
          auditivo: "<p>Escucha un **dictado** y compruébalo:</p><audio controls src='https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'></audio>",
          'lectura-escritura': "<p>Practica con **ejercicios de rellenar huecos**:</p><p>El _(gato/jjato)_ corre rápido...</p><textarea rows='3' cols='50' placeholder='Escribe tu respuesta aquí...' style='width: 100%;'></textarea>",
          kinestesico: "<p>Juego de **ordenar letras** para formar palabras correctas:</p><div class='interactive-game-placeholder'>Juego interactivo de ortografía. (Simulado)</div><button onclick='simulateGameCompletion(\"lengua\", \"ortografia-basica\")'>Simular Completar Juego</button>"
        },
        // ... más temas de lengua
      },
      ingles: {
        'basic-vocabulary': {
          visual: "<p>Aprende vocabulario con **flashcards visuales**:</p><img src='https://via.placeholder.com/400x200?text=Vocabulary+Flashcards' alt='Flashcards vocabulario'>",
          auditivo: "<p>Escucha la **pronunciación** de las palabras clave:</p><audio controls src='https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3'></audio>",
          'lectura-escritura': "<p>Lee y escribe las definiciones:</p><p>A **dog** is a domesticated carnivorous mammal...</p><textarea rows='3' cols='50' placeholder='Escribe tu propia frase con la palabra dog...' style='width: 100%;'></textarea>",
          kinestesico: "<p>Juego de **emparejar** palabras con imágenes:</p><div class='interactive-game-placeholder'>Juego interactivo de emparejar vocabulario. (Simulado)</div><button onclick='simulateGameCompletion(\"ingles\", \"basic-vocabulary\")'>Simular Completar Juego</button>"
        },
        // ... más temas de inglés
      }
    };

    function showLessonContent(subject, topicId) {
        // Ocultar todas las páginas de asignaturas y el contenido principal
        document.getElementById('main-content').style.display = 'none';
        document.querySelectorAll('.subject-page').forEach(page => page.classList.remove('active'));

        // Mostrar el contenedor de la lección
        lessonContentDisplay.classList.remove('hidden');

        const lessonTitleElement = document.getElementById('lesson-title');
        const lessonMaterialElement = document.getElementById('lesson-material');

        const topicName = (topicId.replace(/-/g, ' ').charAt(0).toUpperCase() + topicId.replace(/-/g, ' ').slice(1));
        lessonTitleElement.textContent = `Lección: ${topicName} de ${subject.charAt(0).toUpperCase() + subject.slice(1)}`;

        // Obtener el contenido adaptado al estilo de aprendizaje del usuario
        let contentHtml = topicContents[subject] && topicContents[subject][topicId] && topicContents[subject][topicId][userLearningStyle];

        if (contentHtml) {
            lessonMaterialElement.innerHTML = contentHtml;
        } else {
            lessonMaterialElement.innerHTML = "<p>Contenido no disponible para este tema o estilo de aprendizaje aún. ¡Estamos trabajando en ello!</p>";
        }
    }

    function hideLessonContent() {
        lessonContentDisplay.classList.add('hidden');
        // Vuelve a la página de la asignatura que estaba activa
        const activeSubjectPage = document.querySelector('.subject-page.active');
        if (activeSubjectPage) {
            // Ya está activa, no hace falta hacer nada, solo asegurar que la lección se oculta.
            // Para asegurar que si se pulsa "volver al temario" se vea el temario:
            activeSubjectPage.classList.remove('active'); // Oculta temporalmente para el showSubject
            showSubject(activeSubjectPage.id.replace('-page', ''));
        } else {
            // Si por alguna razón no hay página de asignatura activa, vuelve al contenido principal
            showMainContent();
        }
    }

    // Simular que un juego interactivo ha sido completado
    function simulateGameCompletion(subject, topicId) {
        alert('¡Felicidades! Has completado el juego interactivo. Tu progreso ha sido guardado.');
        saveProgress(subject, topicId, 'completed');
        hideLessonContent(); // Oculta el contenido de la lección y vuelve al temario
    }


    // Iniciar cuestionario al cargar la página
    document.addEventListener('DOMContentLoaded', function() {
      showQuestion();
      // Asegurarse de que el contenido principal y las páginas de asignatura estén ocultas al inicio
      mainContent.classList.add('hidden');
      document.querySelectorAll('.subject-page').forEach(page => page.classList.add('hidden'));
    });
  </script>
</body>
</html>

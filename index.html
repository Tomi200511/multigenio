<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MultiGenio - Aprende a tu ritmo</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background: #f0f4f8;
      color: #333;
    }
    header {
      background: #4b9ce2;
      color: white;
      padding: 30px;
      text-align: center;
    }
    nav {
      background: #337acc;
      display: flex;
      justify-content: center;
      padding: 10px;
    }
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: 600;
    }
    .hero {
      padding: 60px 20px;
      text-align: center;
      background: linear-gradient(to right, #e0f7fa, #ffffff);
    }
    .hero h1 {
      font-size: 2.8em;
      margin-bottom: 10px;
    }
    .hero p {
      font-size: 1.2em;
      color: #555;
      max-width: 600px;
      margin: 0 auto;
    }
    .section {
      padding: 50px 20px;
      max-width: 1100px;
      margin: 0 auto;
    }
    .section h2 {
      text-align: center;
      color: #337acc;
      margin-bottom: 20px;
    }
    .cards {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      padding: 25px;
      width: 300px;
      text-align: center;
      transition: transform 0.3s ease;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .clickable-card {
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    .clickable-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }
    .card-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(75, 156, 226, 0.9);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
      font-weight: 600;
    }
    .clickable-card:hover .card-overlay {
      opacity: 1;
    }
    /* Estilos para las p√°ginas de asignaturas */
    .subject-page {
      display: none;
    }
    .subject-page.active {
      display: block;
    }
    .back-button {
      background: #337acc;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      margin-bottom: 20px;
      font-size: 1em;
      transition: background 0.3s ease;
    }
    .back-button:hover {
      background: #2565a3;
    }
    .topic-list {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .topic-item {
      background: #f8f9fa;
      margin: 10px 0;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #4b9ce2;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .topic-item:hover {
      background: #e9ecef;
      transform: translateX(5px);
    }
    .topic-title {
      font-weight: 600;
      color: #337acc;
      margin-bottom: 5px;
    }
    .topic-description {
      color: #666;
      font-size: 0.9em;
    }
    .level-badge {
      display: inline-block;
      background: #4b9ce2;
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8em;
      margin-left: 10px;
    }
    .card img {
      width: 60px;
      margin-bottom: 15px;
    }
    ul {
      list-style-type: none;
      padding-left: 0;
    }
    ul li {
      margin: 10px 0;
      font-size: 1.1em;
    }
    .contact-form {
      text-align: center;
    }
    .contact-form input,
    .contact-form textarea {
      width: 80%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1em;
    }
    .contact-form button {
      background: #4b9ce2;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      transition: background 0.3s ease;
    }
    .contact-form button:hover {
      background: #337acc;
    }
    footer {
      background: #4b9ce2;
      color: white;
      text-align: center;
      padding: 20px;
      margin-top: 40px;
    }
    /* Cuestionario estilos */
    #quiz-container {
      background: white;
      max-width: 500px;
      margin: 40px auto;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }
    #quiz-container h2 {
      color: #337acc;
      margin-bottom: 20px;
      text-align: center;
    }
    .question {
      margin-bottom: 20px;
      font-weight: 600;
      font-size: 1.1em;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .options button {
      width: 100%;
      padding: 12px;
      background: #4b9ce2;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      transition: background 0.3s ease;
      text-align: left;
    }
    .options button:hover {
      background: #337acc;
    }
    /* Oculto */
    .hidden {
      display: none;
    }
    /* Resultado estilo */
    #result-message {
      font-weight: bold;
      text-align: center;
      margin-bottom: 1.5rem;
      color: #337acc;
      font-size: 1.2em;
    }
    /* Recomendaciones TDAH */
    #tdah-warning {
      margin-top: 2rem;
      padding: 1rem;
      background-color: #FFF3CD;
      border-radius: 8px;
      color: #856404;
      font-weight: 600;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    #study-advice {
      max-width: 700px;
      margin: 0 auto 2rem auto;
      font-weight: 600;
      color: #23527c;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
      text-align: center;
    }

    /* Estilos para Rese√±as/Testimonios */
    .testimonials-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .testimonial-card {
      width: 300px; /* Adjust as needed */
      padding: 25px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
      transition: transform 0.3s ease;
    }

    .testimonial-card:hover {
      transform: translateY(-5px);
    }

    .testimonial-card img {
      width: 80px; /* Larger images for testimonials */
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 15px;
      border: 3px solid #4b9ce2;
    }

    .testimonial-card h3 {
      color: #337acc;
      margin-bottom: 10px;
    }

    .testimonial-card p {
      font-size: 0.95em;
      color: #666;
      line-height: 1.6;
    }

    .rating {
      color: gold; /* Or use an icon font for stars */
      font-size: 1.2em;
      margin-top: 15px;
    }

    /* Estilos para la barra de progreso */
    .progress-bar-container {
      width: 100%;
      background-color: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 25px;
      height: 25px;
      position: relative;
    }

    .progress-bar-fill {
      height: 100%;
      background-color: #4CAF50; /* Green color for progress */
      width: 0%; /* Will be updated by JS */
      border-radius: 10px 0 0 10px;
      transition: width 0.5s ease-in-out;
    }

    .progress-text {
      position: absolute;
      width: 100%;
      text-align: center;
      line-height: 25px;
      color: #333;
      font-weight: 600;
      font-size: 0.9em;
    }

    /* Estilos para el contenedor de lecci√≥n */
    #lesson-content-display {
        background: white;
        max-width: 800px;
        margin: 40px auto;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        min-height: 400px; /* Para que no se vea vac√≠o */
    }

    #lesson-content-display h2 {
        text-align: center;
        color: #337acc;
        margin-bottom: 20px;
    }

    #lesson-material video,
    #lesson-material audio,
    #lesson-material img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 15px auto;
        border-radius: 8px;
    }

    #lesson-material .interactive-game-placeholder {
        background-color: #e0f7fa;
        border: 2px dashed #4b9ce2;
        padding: 50px;
        text-align: center;
        font-style: italic;
        color: #555;
        border-radius: 8px;
    }
  </style>
</head>
<body>

  <div id="quiz-container">
    <h2>Cuestionario de estilo de aprendizaje</h2>
    <div id="question-text" class="question"></div>
    <div id="options" class="options"></div>
  </div>

  <div id="main-content" class="hidden">
    <header>
      <h1>MultiGenio</h1>
      <p>Aprende a tu ritmo. Brilla con tu estilo.</p>
    </header>

    <nav>
      <a href="#que-es">¬øQu√© es?</a>
      <a href="#materias">Materias</a>
      <a href="#beneficios">Beneficios</a>
      <a href="#testimonios">Testimonios</a>
      <a href="#contacto">Contacto</a>
    </nav>

    <section class="hero">
      <h1>Tu tutor virtual para Matem√°ticas, Ingl√©s y Lengua</h1>
      <p>Dise√±ado especialmente para estudiantes con TDA o dificultades de atenci√≥n. Paciencia, claridad y diversi√≥n en un solo lugar.</p>
    </section>

    <div id="result-message"></div>
    <div id="study-advice"></div>
    <div id="tdah-warning" class="hidden">
      ‚ö†Ô∏è Si presentas indicios de TDAH, MultiGenio te ofrecer√° recursos y estrategias especiales para ayudarte a mantener la concentraci√≥n y aprovechar tu estilo de aprendizaje.
    </div>

    <section class="section" id="que-es">
      <h2>¬øQu√© es MultiGenio?</h2>
      <img src="https://img.icons8.com/clouds/100/000000/online-support.png" alt="Estudio interactivo" />
      <p>
        <strong>MultiGenio</strong> es una plataforma educativa innovadora que revoluciona el aprendizaje, especialmente dise√±ada para estudiantes con **TDAH**, dificultades de atenci√≥n o aquellos que buscan un m√©todo de estudio verdaderamente personalizado. A trav√©s de la integraci√≥n de **Inteligencia Artificial Avanzada**, MultiGenio no solo se adapta al ritmo del alumno, sino que moldea activamente la experiencia educativa para maximizar la absorci√≥n del conocimiento y el mantenimiento del inter√©s.
      </p>

      <h3>üß† La Inteligencia Artificial en Acci√≥n: Un Enfoque Adaptativo</h3>
      <img src="https://img.icons8.com/color/96/artificial-intelligence.png" alt="Inteligencia Artificial" />
      <p>
        Nuestra IA propietaria va m√°s all√° de un simple algoritmo. Analiza patrones de respuesta en el cuestionario inicial, el progreso en los juegos interactivos, el tiempo dedicado a cada tema y las preferencias de material (visual, auditivo, etc.). Con estos datos, el sistema ajusta din√°micamente la dificultad de los ejercicios, prioriza ciertos tipos de contenido y sugiere rutas de aprendizaje alternativas. Por ejemplo, si un estudiante visual tiene dificultades con un concepto, la IA podr√≠a recomendar un video explicativo animado o un mapa mental interactivo antes de ofrecer otro tipo de ejercicio. Para alumnos con TDAH, la IA puede fragmentar lecciones extensas en m√≥dulos m√°s cortos, incorporar micro-descansos activos o activar alertas visuales/auditivas sutiles para refocus.
      </p>
      <p>
        El objetivo es crear un "tutor virtual" que comprende las fortalezas y desaf√≠os individuales, proporcionando una experiencia educativa que se siente hecha a la medida, minimizando las distracciones y potenciando la concentraci√≥n.
      </p>

      <h2>üìã Cuestionario Inicial: Tu Huella de Aprendizaje</h2>
      <img src="https://img.icons8.com/color/96/questions.png" alt="Cuestionario" />
      <p>
        Antes de sumergirte en el aprendizaje, MultiGenio te invita a un **cuestionario interactivo y estrat√©gico de 5 preguntas**. Este no es un simple test; es una herramienta clave para nuestra IA. Las preguntas est√°n cuidadosamente dise√±adas para identificar tu estilo de aprendizaje predominante entre:
      </p>
      <ul>
        <li>üëÅÔ∏è <strong>Visual:</strong> Aprendes mejor viendo im√°genes, gr√°ficos, diagramas y videos.</li>
        <li>üëÇ <strong>Auditivo:</strong> Retienes informaci√≥n escuchando explicaciones, debates o audios.</li>
        <li>‚úçÔ∏è <strong>Lectura/Escritura:</strong> Tu fuerza est√° en leer textos, tomar notas y escribir res√∫menes.</li>
        <li>üèÉ <strong>Kinest√©sico:</strong> Necesitas "hacer" para aprender; prefieres actividades pr√°cticas y movimiento.</li>
      </ul>
      <p>
        Adem√°s, una de las preguntas est√° formulada para detectar indicios que podr√≠an ser compatibles con TDAH. Si se identifican estas se√±ales, la plataforma activar√° un conjunto de estrategias pedag√≥gicas y recursos especiales, como temporizadores de foco, desaf√≠os de atenci√≥n y formatos de contenido adaptados, para asegurar una experiencia de aprendizaje √≥ptima y libre de frustraciones. Este perfil inicial es la base sobre la cual la IA personaliza cada aspecto de tu trayectoria en MultiGenio.
      </p>
    </section>
   
    <section class="section" id="materias">
      <h2>Materias que puedes aprender</h2>
      <div class="cards">
        <div class="card clickable-card" onclick="showSubject('matematicas')">
          <img src="https://img.icons8.com/color/96/calculator.png" alt="Matem√°ticas" />
          <h3>Matem√°ticas</h3>
          <p>Desde sumas y divisiones hasta √°lgebra de 3¬∫ de ESO. Todo con juegos mentales, visuales y l√≥gica adaptada a ti.</p>
          <div class="card-overlay">
            <span>¬°Haz clic para empezar!</span>
          </div>
        </div>
        <div class="card clickable-card" onclick="showSubject('lengua')">
          <img src="https://img.icons8.com/color/96/book.png" alt="Lengua" />
          <h3>Lengua</h3>
          <p>Domina la morfolog√≠a, sintaxis y reglas ortogr√°ficas con ejemplos creativos y pr√°cticas f√°ciles de recordar.</p>
          <div class="card-overlay">
            <span>¬°Haz clic para empezar!</span>
          </div>
        </div>
        <div class="card clickable-card" onclick="showSubject('ingles')">
          <img src="https://img.icons8.com/color/96/usa.png" alt="Ingl√©s" />
          <h3>Ingl√©s</h3>
          <p>Aprende desde A1 hasta B1: vocabulario, gram√°tica, listening y speaking. Con apoyo visual y audios.</p>
          <div class="card-overlay">
            <span>¬°Haz clic para empezar!</span>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="beneficios">
      <h2>¬øPor qu√© elegir MultiGenio?</h2>
      <ul>
        <li>üåü Explicaciones adaptadas a estudiantes con TDA/TDAH</li>
        <li>üìΩÔ∏è Videos, ejemplos y contenido creativo</li>
        <li>üß† Aprende a tu propio ritmo, sin presi√≥n</li>
        <li>üéì Ideal para padres, docentes y alumnos</li>
      </ul>
    </section>

    <section class="section" id="testimonios">
      <h2>Lo que dicen nuestros alumnos</h2>
      <div class="cards testimonials-grid">
        <div class="card testimonial-card">
          <img src="https://img.icons8.com/color/96/student-male.png" alt="Estudiante 1" />
          <h3>Laura G.</h3>
          <p>"¬°MultiGenio cambi√≥ mi forma de ver las matem√°ticas! Siempre me frustraba, pero con sus explicaciones visuales y los juegos interactivos, ahora entiendo todo mucho mejor. ¬°Recomendad√≠simo!"</p>
          <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        </div>
        <div class="card testimonial-card">
          <img src="https://img.icons8.com/color/96/student-female.png" alt="Estudiante 2" />
          <h3>Pablo R.</h3>
          <p>"Como padre de un ni√±o con TDAH, encontrar MultiGenio ha sido una bendici√≥n. La paciencia y el enfoque adaptado de la plataforma son incre√≠bles. Mi hijo est√° motivado y aprendiendo sin estr√©s."</p>
          <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        </div>
        <div class="card testimonial-card">
          <img src="https://img.icons8.com/color/96/teacher.png" alt="Estudiante 3" />
          <h3>Sof√≠a M. (Profesora)</h3>
          <p>"He probado muchas herramientas, pero MultiGenio es √∫nica por su capacidad de adaptaci√≥n. La IA es una maravilla para detectar y apoyar a cada alumno seg√∫n su estilo. La recomiendo a todos mis colegas."</p>
          <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        </div>
      </div>
    </section>

    <section class="section" id="contacto">
      <h2>Contacto</h2>
      <div class="contact-form">
        <p>¬øQuieres probar MultiGenio o tienes dudas? Env√≠anos un mensaje:</p>
        <form>
          <input type="text" placeholder="Tu nombre" required /><br />
          <input type="email" placeholder="Tu correo electr√≥nico" required /><br />
          <textarea placeholder="Tu mensaje..." rows="5" required></textarea><br />
          <button type="submit">Enviar mensaje</button>
        </form>
      </div>
    </section>

    <script>
      window.chatbaseConfig = {
        chatbotId: "frw3UKvg6MK3c9Zw-bZAu"
      };
    </script>
    <script src="https://www.chatbase.co/embed.min.js" defer></script>

    <footer>
      <p>&copy; 2025 MultiGenio. Todos los derechos reservados.</p>
    </footer>
  </div>

  <div id="matematicas-page" class="subject-page">
    <div class="section">
      <button class="back-button" onclick="showMainContent()">‚Üê Volver al inicio</button>
      <h1 style="text-align: center; color: #337acc;">üìä Matem√°ticas</h1>
      <div id="math-personalized-intro"></div>

      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="matematicas-progress-fill" style="width: 0%;"></div>
        <span class="progress-text" id="matematicas-progress-text">0% completado</span>
      </div>
      
      <div class="topic-list">
        <h2>Temario por niveles</h2>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'operaciones-basicas')">
          <div class="topic-title">Operaciones B√°sicas <span class="level-badge">Primaria</span>
            <span class="progress-indicator" id="progress-matematicas-operaciones-basicas"></span>
          </div>
          <div class="topic-description">Suma, resta, multiplicaci√≥n y divisi√≥n. Problemas pr√°cticos del d√≠a a d√≠a.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'fracciones')">
          <div class="topic-title">Fracciones y Decimales <span class="level-badge">6¬∫ Primaria</span>
            <span class="progress-indicator" id="progress-matematicas-fracciones"></span>
          </div>
          <div class="topic-description">Conceptos, operaciones y equivalencias. Con ejemplos visuales.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'porcentajes')">
          <div class="topic-title">Porcentajes <span class="level-badge">1¬∫ ESO</span>
            <span class="progress-indicator" id="progress-matematicas-porcentajes"></span>
          </div>
          <div class="topic-description">C√°lculo de porcentajes, aumentos y descuentos.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'ecuaciones')">
          <div class="topic-title">Ecuaciones de Primer Grado <span class="level-badge">2¬∫ ESO</span>
            <span class="progress-indicator" id="progress-matematicas-ecuaciones"></span>
          </div>
          <div class="topic-description">Resoluci√≥n paso a paso con m√©todos visuales.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'sistemas')">
          <div class="topic-title">Sistemas de Ecuaciones <span class="level-badge">3¬∫ ESO</span>
            <span class="progress-indicator" id="progress-matematicas-sistemas"></span>
          </div>
          <div class="topic-description">M√©todos de sustituci√≥n, igualaci√≥n y reducci√≥n.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('matematicas', 'geometria')">
          <div class="topic-title">Geometr√≠a B√°sica <span class="level-badge">1¬∫-2¬∫ ESO</span>
            <span class="progress-indicator" id="progress-matematicas-geometria"></span>
          </div>
          <div class="topic-description">√Åreas, per√≠metros y vol√∫menes de figuras b√°sicas.</div>
        </div>
      </div>
    </div>
  </div>

  <div id="lengua-page" class="subject-page">
    <div class="section">
      <button class="back-button" onclick="showMainContent()">‚Üê Volver al inicio</button>
      <h1 style="text-align: center; color: #337acc;">üìö Lengua Espa√±ola</h1>
      <div id="lengua-personalized-intro"></div>

      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="lengua-progress-fill" style="width: 0%;"></div>
        <span class="progress-text" id="lengua-progress-text">0% completado</span>
      </div>
      
      <div class="topic-list">
        <h2>Temario por niveles</h2>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'ortografia-basica')">
          <div class="topic-title">Ortograf√≠a B√°sica <span class="level-badge">Primaria</span>
            <span class="progress-indicator" id="progress-lengua-ortografia-basica"></span>
          </div>
          <div class="topic-description">Acentuaci√≥n, uso de b/v, g/j, h. Con ejercicios pr√°cticos.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'morfologia')">
          <div class="topic-title">Morfolog√≠a <span class="level-badge">1¬∫ ESO</span>
            <span class="progress-indicator" id="progress-lengua-morfologia"></span>
          </div>
          <div class="topic-description">Categor√≠as gramaticales: sustantivos, adjetivos, verbos, etc.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'sintaxis-simple')">
          <div class="topic-title">Sintaxis - Oraci√≥n Simple <span class="level-badge">2¬∫ ESO</span>
            <span class="progress-indicator" id="progress-lengua-sintaxis-simple"></span>
          </div>
          <div class="topic-description">Sujeto, predicado y complementos b√°sicos.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'sintaxis-compuesta')">
          <div class="topic-title">Sintaxis - Oraci√≥n Compuesta <span class="level-badge">3¬∫ ESO</span>
            <span class="progress-indicator" id="progress-lengua-sintaxis-compuesta"></span>
          </div>
          <div class="topic-description">Oraciones coordinadas y subordinadas.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'literatura')">
          <div class="topic-title">Literatura Espa√±ola <span class="level-badge">2¬∫-3¬∫ ESO</span>
            <span class="progress-indicator" id="progress-lengua-literatura"></span>
          </div>
          <div class="topic-description">G√©neros literarios, m√©trica y autores principales.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('lengua', 'expresion-escrita')">
          <div class="topic-title">Expresi√≥n Escrita <span class="level-badge">Todos</span>
            <span class="progress-indicator" id="progress-lengua-expresion-escrita"></span>
          </div>
          <div class="topic-description">T√©cnicas de redacci√≥n, tipos de texto y coherencia.</div>
        </div>
      </div>
    </div>
  </div>

  <div id="ingles-page" class="subject-page">
    <div class="section">
      <button class="back-button" onclick="showMainContent()">‚Üê Volver al inicio</button>
      <h1 style="text-align: center; color: #337acc;">üá¨üáß English</h1>
      <div id="ingles-personalized-intro"></div>

      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="ingles-progress-fill" style="width: 0%;"></div>
        <span class="progress-text" id="ingles-progress-text">0% completado</span>
      </div>
      
      <div class="topic-list">
        <h2>Temario por niveles</h2>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'basic-vocabulary')">
          <div class="topic-title">Basic Vocabulary <span class="level-badge">A1</span>
            <span class="progress-indicator" id="progress-ingles-basic-vocabulary"></span>
          </div>
          <div class="topic-description">Numbers, colors, family, daily routines. Con apoyo visual.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'present-tenses')">
          <div class="topic-title">Present Simple & Continuous <span class="level-badge">A1-A2</span>
            <span class="progress-indicator" id="progress-ingles-present-tenses"></span>
          </div>
          <div class="topic-description">Tiempos verbales b√°sicos con ejemplos pr√°cticos.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'past-tenses')">
          <div class="topic-title">Past Simple & Past Continuous <span class="level-badge">A2</span>
            <span class="progress-indicator" id="progress-ingles-past-tenses"></span>
          </div>
          <div class="topic-description">Narraci√≥n en pasado, verbos regulares e irregulares.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'future-tenses')">
          <div class="topic-title">Future Tenses <span class="level-badge">A2-B1</span>
            <span class="progress-indicator" id="progress-ingles-future-tenses"></span>
          </div>
          <div class="topic-description">Will, going to, present continuous for future.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'conditionals')">
          <div class="topic-title">Conditionals <span class="level-badge">B1</span>
            <span class="progress-indicator" id="progress-ingles-conditionals"></span>
          </div>
          <div class="topic-description">First, second and third conditional sentences.</div>
        </div>
        
        <div class="topic-item" onclick="showLessonContent('ingles', 'listening-speaking')">
          <div class="topic-title">Listening & Speaking <span class="level-badge">A1-B1</span>
            <span class="progress-indicator" id="progress-ingles-listening-speaking"></span>
          </div>
          <div class="topic-description">Ejercicios de comprensi√≥n auditiva y pronunciaci√≥n.</div>
        </div>
      </div>
    </div>
  </div>

  <div id="lesson-content-display" class="hidden">
    <button class="back-button" onclick="hideLessonContent()">‚Üê Volver al temario</button>
    <h2 id="lesson-title"></h2>
    <div id="lesson-material"></div>
  </div>


  <script>
    const quizContainer = document.getElementById('quiz-container');
    const mainContent = document.getElementById('main-content');
    const questionText = document.getElementById('question-text');
    const optionsDiv = document.getElementById('options');
    const resultMessage = document.getElementById('result-message');
    const tdahWarning = document.getElementById('tdah-warning');
    const studyAdvice = document.getElementById('study-advice');
    const lessonContentDisplay = document.getElementById('lesson-content-display');

    // Preguntas del cuestionario
    const quizQuestions = [
      {
        question: "¬øC√≥mo prefieres aprender?",
        options: [
          { text: "Viendo im√°genes, gr√°ficos o videos", value: "visual" },
          { text: "Escuchando explicaciones o audios", value: "auditivo" },
          { text: "Leyendo o escribiendo textos", value: "lectura-escritura" },
          { text: "Haciendo actividades pr√°cticas o manipulativas", value: "kinestesico" }
        ]
      },
      {
        question: "¬øSueles tener dificultades para mantener la atenci√≥n o concentraci√≥n?",
        options: [
          { text: "S√≠, frecuentemente", value: "tdah" },
          { text: "A veces", value: "a-veces" },
          { text: "No, casi nunca", value: "no" }
        ]
      },
      {
        question: "Cuando estudias, ¬øqu√© te ayuda m√°s a entender y recordar?",
        options: [
          { text: "Ver esquemas o mapas conceptuales", value: "visual" },
          { text: "Escuchar grabaciones o explicaciones en voz alta", value: "auditivo" },
          { text: "Tomar notas o leer textos varias veces", value: "lectura-escritura" },
          { text: "Hacer ejercicios pr√°cticos o moverme mientras estudio", value: "kinestesico" }
        ]
      },
      {
        question: "¬øQu√© actividad prefieres para aprender algo nuevo?",
        options: [
          { text: "Observar demostraciones visuales", value: "visual" },
          { text: "Participar en discusiones o escuchar explicaciones", value: "auditivo" },
          { text: "Leer libros o escribir res√∫menes", value: "lectura-escritura" },
          { text: "Experimentar y practicar directamente", value: "kinestesico" }
        ]
      },
      {
        question: "¬øC√≥mo recuerdas mejor la informaci√≥n?",
        options: [
          { text: "Recordando im√°genes y colores", value: "visual" },
          { text: "Recordando sonidos o palabras", value: "auditivo" },
          { text: "Recordando textos o frases escritas", value: "lectura-escritura" },
          { text: "Recordando sensaciones y movimientos", value: "kinestesico" }
        ]
      }
    ];

    let currentQuestionIndex = 0;
    let selectedAnswers = {};
    let userLearningStyle = 'visual'; // Variable global para almacenar el estilo

    // --- Data de Temas para C√°lculo de Progreso ---
    const mathTopics = [
      { id: 'operaciones-basicas', text: 'Operaciones B√°sicas' },
      { id: 'fracciones', text: 'Fracciones y Decimales' },
      { id: 'porcentajes', text: 'Porcentajes' },
      { id: 'ecuaciones', text: 'Ecuaciones de Primer Grado' },
      { id: 'sistemas', text: 'Sistemas de Ecuaciones' },
      { id: 'geometria', text: 'Geometr√≠a B√°sica' }
    ];

    const lenguaTopics = [
      { id: 'ortografia-basica', text: 'Ortograf√≠a B√°sica' },
      { id: 'morfologia', text: 'Morfolog√≠a' },
      { id: 'sintaxis-simple', text: 'Sintaxis - Oraci√≥n Simple' },
      { id: 'sintaxis-compuesta', text: 'Sintaxis - Oraci√≥n Compuesta' },
      { id: 'literatura', text: 'Literatura Espa√±ola' },
      { id: 'expresion-escrita', text: 'Expresi√≥n Escrita' }
    ];

    const inglesTopics = [
      { id: 'basic-vocabulary', text: 'Basic Vocabulary' },
      { id: 'present-tenses', text: 'Present Simple & Continuous' },
      { id: 'past-tenses', text: 'Past Simple & Past Continuous' },
      { id: 'future-tenses', text: 'Future Tenses' },
      { id: 'conditionals', text: 'Conditionals' },
      { id: 'listening-speaking', text: 'Listening & Speaking' }
    ];

    // --- Funciones de Cuestionario ---
    function showQuestion() {
      if (currentQuestionIndex >= quizQuestions.length) {
        finishQuiz();
        return;
      }

      const currentQ = quizQuestions[currentQuestionIndex];
      questionText.textContent = currentQ.question;
      optionsDiv.innerHTML = '';
      
      currentQ.options.forEach((option, index) => {
        const btn = document.createElement('button');
        btn.textContent = option.text;
        btn.onclick = () => {
          selectedAnswers[currentQuestionIndex] = option.value;
          currentQuestionIndex++;
          showQuestion();
        };
        optionsDiv.appendChild(btn);
      });
    }

    function finishQuiz() {
      // Ocultar cuestionario
      quizContainer.classList.add('hidden');
      // Mostrar contenido principal
      mainContent.classList.remove('hidden');

      // Conteo de estilos, excepto la pregunta 1 (TDAH - √≠ndice 1)
      const styleCounts = {
        visual: 0,
        auditivo: 0,
        'lectura-escritura': 0,
        kinestesico: 0
      };

      for(let i = 0; i < quizQuestions.length; i++){
        if(i === 1) continue; // Saltar la pregunta de TDAH (√≠ndice 1)
        const ans = selectedAnswers[i];
        if(styleCounts.hasOwnProperty(ans)){
          styleCounts[ans]++;
        }
      }

      // Elegir el estilo con mayor puntuaci√≥n
      let maxStyle = 'visual';
      let maxCount = 0;
      for(const style in styleCounts){
        if(styleCounts[style] > maxCount){
          maxCount = styleCounts[style];
          maxStyle = style;
        }
      }

      // Mostrar recomendaciones seg√∫n estilo
      const adviceByStyle = {
        visual: "Recomendamos usar esquemas, mapas conceptuales, videos y colores para organizar tus ideas. Aprovecha im√°genes y gr√°ficos para estudiar.",
        auditivo: "Aprende mejor con grabaciones, podcasts, explicaciones en voz alta y repitiendo la informaci√≥n oralmente.",
        'lectura-escritura': "Prefiere leer textos, tomar apuntes, escribir res√∫menes y usar listas para organizar la informaci√≥n.",
        kinestesico: "Es ideal aprender haciendo, usando actividades pr√°cticas, movimientos o ejercicios mientras estudias."
      };

      // Mostrar mensaje resultado
      const styleNames = {
        visual: "Visual",
        auditivo: "Auditivo", 
        'lectura-escritura': "Lectura/Escritura",
        kinestesico: "Kinest√©sico"
      };

      resultMessage.textContent = `üéØ Tu estilo de aprendizaje detectado: ${styleNames[maxStyle]}`;
      studyAdvice.textContent = adviceByStyle[maxStyle] || "";
      
      // Guardar el estilo de aprendizaje globalmente
      userLearningStyle = maxStyle;

      // Mostrar advertencia TDAH si aplica
      const tdahAnswer = selectedAnswers[1]; // La pregunta TDAH est√° en el √≠ndice 1
      if(tdahAnswer === 'tdah'){
        tdahWarning.classList.remove('hidden');
      }

      // Cargar y actualizar el progreso al finalizar el cuestionario
      loadProgressAndDisplay();
      updateAllProgressBars();
    }

    // --- Funciones de Progreso (localStorage) ---
    function saveProgress(subject, topicId, status) {
      const progressKey = `progress_${subject}_${topicId}`;
      localStorage.setItem(progressKey, status);
      // Tras guardar, actualizamos los indicadores y las barras de progreso
      loadProgressAndDisplay();
      updateAllProgressBars();
    }

    function loadProgressAndDisplay() {
      // Actualizar indicadores individuales de tema
      [
        ...mathTopics.map(t => ({ subject: 'matematicas', topic: t })),
        ...lenguaTopics.map(t => ({ subject: 'lengua', topic: t })),
        ...inglesTopics.map(t => ({ subject: 'ingles', topic: t }))
      ].forEach(({ subject, topic }) => {
        const progressKey = `progress_${subject}_${topic.id}`;
        const status = localStorage.getItem(progressKey);
        const indicator = document.getElementById(`progress-${subject}-${topic.id}`);
        if (indicator) {
          if (status === 'completed') {
            indicator.innerHTML = '<span style="color: green; font-weight: bold; margin-left: 10px;">‚úÖ Completado</span>';
          } else {
            indicator.innerHTML = ''; // Limpiar si no est√° completado
          }
        }
      });
    }

    function updateSubjectProgress(subject, topicsArray, progressFillId, progressTextId) {
      let completedCount = 0;
      topicsArray.forEach(topic => {
        const progressKey = `progress_${subject}_${topic.id}`;
        if (localStorage.getItem(progressKey) === 'completed') {
          completedCount++;
        }
      });

      const totalTopics = topicsArray.length;
      const percentage = totalTopics > 0 ? (completedCount / totalTopics) * 100 : 0;

      const progressBarFill = document.getElementById(progressFillId);
      const progressBarText = document.getElementById(progressTextId);

      if (progressBarFill && progressBarText) {
        progressBarFill.style.width = `${percentage}%`;
        progressBarText.textContent = `${Math.round(percentage)}% completado`;
      }
    }

    function updateAllProgressBars() {
      updateSubjectProgress('matematicas', mathTopics, 'matematicas-progress-fill', 'matematicas-progress-text');
      updateSubjectProgress('lengua', lenguaTopics, 'lengua-progress-fill', 'lengua-progress-text');
      updateSubjectProgress('ingles', inglesTopics, 'ingles-progress-fill', 'ingles-progress-text');
    }

    // --- Funciones de Navegaci√≥n y Contenido ---
    function showSubject(subject) {
      // Ocultar contenido principal y otras p√°ginas de asignatura
      document.getElementById('main-content').style.display = 'none';
      document.querySelectorAll('.subject-page').forEach(page => {
        page.classList.remove('active');
      });
      lessonContentDisplay.classList.add('hidden'); // Asegurarse que la lecci√≥n est√© oculta

      // Mostrar p√°gina de la asignatura
      document.getElementById(subject + '-page').classList.add('active');
      
      // Personalizar introducci√≥n seg√∫n el estilo de aprendizaje
      personalizeSubjectIntro(subject);
      // Actualizar barras de progreso al entrar en la asignatura
      updateAllProgressBars();
      loadProgressAndDisplay(); // Asegurar que los checks est√©n visibles
    }

    function showMainContent() {
      // Ocultar todas las p√°ginas de asignaturas y el contenido de lecci√≥n
      document.querySelectorAll('.subject-page').forEach(page => {
        page.classList.remove('active');
      });
      lessonContentDisplay.classList.add('hidden'); // Asegurarse que la lecci√≥n est√© oculta
      
      // Mostrar contenido principal
      document.getElementById('main-content').style.display = 'block';
    }

    function personalizeSubjectIntro(subject) {
      const introElement = document.getElementById(subject + '-personalized-intro');
      if (!introElement) return;

      const personalizedIntros = {
        matematicas: {
          visual: "üé® Como eres una persona con estilo **visual**, hemos preparado esquemas, gr√°ficos y representaciones visuales para cada tema de matem√°ticas. ¬°Ver√°s las matem√°ticas de una forma completamente nueva!",
          auditivo: "üîä Perfecto para tu estilo **auditivo**: cada lecci√≥n incluye explicaciones paso a paso, podcasts matem√°ticos y ejercicios que puedes resolver 'hablando' contigo mismo.",
          'lectura-escritura': "üìù Ideal para tu estilo de **lectura/escritura**: encontrar√°s res√∫menes detallados, ejercicios escritos y la posibilidad de tomar notas estructuradas en cada tema.",
          kinestesico: "üèÉ ¬°Matem√°ticas en movimiento! Hemos dise√±ado actividades pr√°cticas, manipulativas y ejercicios que puedes resolver movi√©ndote o usando objetos f√≠sicos."
        },
        lengua: {
          visual: "üé® Tu aprendizaje **visual** te ayudar√° con mapas mentales, esquemas de sintaxis y representaciones gr√°ficas de las reglas gramaticales.",
          auditivo: "üîä Perfecto para tu estilo: lecturas en voz alta, ejercicios de dictado, y t√©cnicas de memorizaci√≥n con ritmo y sonidos.",
          'lectura-escritura': "üìù En tu elemento: an√°lisis de textos, ejercicios de escritura creativa y t√©cnicas de estudio basadas en la lectura comprensiva.",
          kinestesico: "üèÉ Lengua activa: dramatizaciones, juegos de roles y ejercicios donde puedas moverte mientras aprendes gram√°tica y literatura."
        },
        ingles: {
          visual: "üé® **Visual English**: flashcards, mind maps, videos y material gr√°fico para aprender vocabulario y gram√°tica de forma visual.",
          auditivo: "üîä Perfect for you: **listening exercises**, pronunciation practice, songs and audio materials to improve your English naturally.",
          'lectura-escritura': "üìù **Reading & Writing** focus: textos graduados, ejercicios de escritura y t√©cnicas de estudio basadas en la lectura en ingl√©s.",
          kinestesico: "üèÉ **Active English**: role-plays, interactive games y actividades pr√°cticas para aprender ingl√©s movi√©ndote y experimentando."
        }
      };

      const intro = personalizedIntros[subject] && personalizedIntros[subject][userLearningStyle];
      if (intro) {
        introElement.innerHTML = `<div style="background: #e8f4f8; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 5px solid #4b9ce2;"><strong>Personalizado para ti:</strong><br>${intro}</div>`;
      }
    }

    // --- Contenido de Lecciones Din√°micas (para diferentes tipos de material) ---
    const topicContents = {
      matematicas: {
        'operaciones-basicas': {
          visual: "<p>Mira este **video explicativo** animado sobre sumas y restas:</p><video controls style='width:100%; height:auto;' src='https://www.w3schools.com/html/mov_bbb.mp4' poster='https://via.placeholder.com/320x240?text=Video+Matem√°ticas'></video><p>Y este **diagrama** para visualizarlo:</p><img src='https://via.placeholder.com/400x200?text=Diagrama+Sumas' alt='Diagrama de sumas'>",
          auditivo: "<p>Escucha la **explicaci√≥n detallada** de c√≥mo sumar y restar:</p><audio controls src='https://www.w3schools.com/html/horse.mp3'></audio><p>Presta atenci√≥n a cada paso, ¬°puedes repetirlo cuantas veces quieras!</p>",
          'lectura-escritura': "<p>Lee el **resumen completo** sobre las operaciones b√°sicas y luego escribe tus propias notas:</p><p>La **suma** es la operaci√≥n fundamental de combinar dos o m√°s n√∫meros para obtener un total. Se representa con el signo m√°s (+). Por ejemplo, 2 + 3 = 5. La **resta** es la operaci√≥n inversa de la suma, donde se quita una cantidad de otra para encontrar la diferencia. Se representa con el signo menos (-). Por ejemplo, 5 - 2 = 3. La **multiplicaci√≥n** es la suma repetida de un n√∫mero, mientras que la **divisi√≥n** es la operaci√≥n de repartir una cantidad en partes iguales.</p><textarea rows='5' cols='60' placeholder='Toma tus propias notas o crea un resumen aqu√≠...' style='width: 100%;'></textarea>",
          kinestesico: "<p>¬°Resuelve problemas interactivos! **Arrastra y suelta** los n√∫meros en el lugar correcto para completar las sumas:</p><div class='interactive-game-placeholder'>Aqu√≠ ir√≠a un juego interactivo de arrastrar y soltar n√∫meros para sumar/restar. (Simulado)</div><button onclick='simulateGameCompletion(\"matematicas\", \"operaciones-basicas\")'>Simular Completar Juego</button>"
        },
        'fracciones': {
          visual: "<p>Aprende fracciones con estas **im√°genes y gr√°ficos de tartas**:</p><img src='https://via.placeholder.com/400x200?text=Fracciones+Visual' alt='Fracciones visual'>",
          auditivo: "<p>Escucha la **explicaci√≥n de fracciones** y sus operaciones:</p><audio controls src='https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3'></audio>",
          'lectura-escritura': "<p>Lee la **teor√≠a de fracciones** y resuelve problemas escritos:</p><p>Una fracci√≥n es un n√∫mero que representa una parte de un todo...</p>",
          kinestesico: "<p>Juega al **rompecabezas de fracciones** para entenderlas mejor:</p><div class='interactive-game-placeholder'>Juego interactivo de construcci√≥n de fracciones. (Simulado)</div><button onclick='simulateGameCompletion(\"matematicas\", \"fracciones\")'>Simular Completar Juego</button>"
        },
        // ... puedes seguir a√±adiendo m√°s temas de matem√°ticas con sus 4 tipos de contenido
      },
      lengua: {
        'ortografia-basica': {
          visual: "<p>Observa los **mapas mentales** de reglas ortogr√°ficas:</p><img src='https://via.placeholder.com/400x200?text=Ortografia+Visual' alt='Mapa mental ortograf√≠a'>",
          auditivo: "<p>Escucha un **dictado** y compru√©balo:</p><audio controls src='https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'></audio>",
          'lectura-escritura': "<p>Practica con **ejercicios de rellenar huecos**:</p><p>El _(gato/jjato)_ corre r√°pido...</p><textarea rows='3' cols='50' placeholder='Escribe tu respuesta aqu√≠...' style='width: 100%;'></textarea>",
          kinestesico: "<p>Juego de **ordenar letras** para formar palabras correctas:</p><div class='interactive-game-placeholder'>Juego interactivo de ortograf√≠a. (Simulado)</div><button onclick='simulateGameCompletion(\"lengua\", \"ortografia-basica\")'>Simular Completar Juego</button>"
        },
        // ... m√°s temas de lengua
      },
      ingles: {
        'basic-vocabulary': {
          visual: "<p>Aprende vocabulario con **flashcards visuales**:</p><img src='https://via.placeholder.com/400x200?text=Vocabulary+Flashcards' alt='Flashcards vocabulario'>",
          auditivo: "<p>Escucha la **pronunciaci√≥n** de las palabras clave:</p><audio controls src='https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3'></audio>",
          'lectura-escritura': "<p>Lee y escribe las definiciones:</p><p>A **dog** is a domesticated carnivorous mammal...</p><textarea rows='3' cols='50' placeholder='Escribe tu propia frase con la palabra dog...' style='width: 100%;'></textarea>",
          kinestesico: "<p>Juego de **emparejar** palabras con im√°genes:</p><div class='interactive-game-placeholder'>Juego interactivo de emparejar vocabulario. (Simulado)</div><button onclick='simulateGameCompletion(\"ingles\", \"basic-vocabulary\")'>Simular Completar Juego</button>"
        },
        // ... m√°s temas de ingl√©s
      }
    };

    function showLessonContent(subject, topicId) {
        // Ocultar todas las p√°ginas de asignaturas y el contenido principal
        document.getElementById('main-content').style.display = 'none';
        document.querySelectorAll('.subject-page').forEach(page => page.classList.remove('active'));

        // Mostrar el contenedor de la lecci√≥n
        lessonContentDisplay.classList.remove('hidden');

        const lessonTitleElement = document.getElementById('lesson-title');
        const lessonMaterialElement = document.getElementById('lesson-material');

        const topicName = (topicId.replace(/-/g, ' ').charAt(0).toUpperCase() + topicId.replace(/-/g, ' ').slice(1));
        lessonTitleElement.textContent = `Lecci√≥n: ${topicName} de ${subject.charAt(0).toUpperCase() + subject.slice(1)}`;

        // Obtener el contenido adaptado al estilo de aprendizaje del usuario
        let contentHtml = topicContents[subject] && topicContents[subject][topicId] && topicContents[subject][topicId][userLearningStyle];

        if (contentHtml) {
            lessonMaterialElement.innerHTML = contentHtml;
        } else {
            lessonMaterialElement.innerHTML = "<p>Contenido no disponible para este tema o estilo de aprendizaje a√∫n. ¬°Estamos trabajando en ello!</p>";
        }
    }

    function hideLessonContent() {
        lessonContentDisplay.classList.add('hidden');
        // Vuelve a la p√°gina de la asignatura que estaba activa
        const activeSubjectPage = document.querySelector('.subject-page.active');
        if (activeSubjectPage) {
            // Ya est√° activa, no hace falta hacer nada, solo asegurar que la lecci√≥n se oculta.
            // Para asegurar que si se pulsa "volver al temario" se vea el temario:
            activeSubjectPage.classList.remove('active'); // Oculta temporalmente para el showSubject
            showSubject(activeSubjectPage.id.replace('-page', ''));
        } else {
            // Si por alguna raz√≥n no hay p√°gina de asignatura activa, vuelve al contenido principal
            showMainContent();
        }
    }

    // Simular que un juego interactivo ha sido completado
    function simulateGameCompletion(subject, topicId) {
        alert('¬°Felicidades! Has completado el juego interactivo. Tu progreso ha sido guardado.');
        saveProgress(subject, topicId, 'completed');
        hideLessonContent(); // Oculta el contenido de la lecci√≥n y vuelve al temario
    }


    // Iniciar cuestionario al cargar la p√°gina
    document.addEventListener('DOMContentLoaded', function() {
      showQuestion();
      // Asegurarse de que el contenido principal y las p√°ginas de asignatura est√©n ocultas al inicio
      mainContent.classList.add('hidden');
      document.querySelectorAll('.subject-page').forEach(page => page.classList.add('hidden'));
    });
  </script>
</body>
</html>
